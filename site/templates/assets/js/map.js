$(document).ready(function(){var e=$(".map__switcher li"),i=$(".map__group"),t=-1;n(0);var a="",s="",r="",d=$(location).attr("hash");function c(){$(".search__grid").removeClass("active"),$(".search__result").addClass("active"),$(".search__result p:first-child").text(r),$(".search__result li").removeClass("hidden"),""!=r&&$(".search__result li").addClass("hidden"),""!=a&&$('.search__result li[data-category="'+a+'"]').removeClass("hidden"),""!=s&&$('.search__result li[data-subcategory="'+s+'"]').removeClass("hidden")}function l(){r=s=a="",$(".search input").val(""),$(".search__result").removeClass("active"),$(".search__grid").addClass("active")}function o(a){if(""!=a){var e=i.eq(t);$(".map__marker").removeClass("fade"),e.find('.map__marker[data-category!="'+a+'"]').addClass("fade")}}function n(a){a<0||2<a||a==t||(t=a,e.removeClass("active"),e.eq(t).addClass("active"),function(a){switch(i.removeClass("active").removeClass("hide").removeClass("second").removeClass("third"),i.eq(a).addClass("active"),a){case 0:i.eq(1).addClass("hide"),i.eq(2).addClass("hide");break;case 1:i.eq(0).addClass("second"),i.eq(2).addClass("hide");break;case 2:i.eq(0).addClass("third"),i.eq(1).addClass("second")}$(".map__marker").removeClass("visible").removeClass("fade");var e=i.eq(a).find(".map__marker"),t=500/e.length,s=0;e.each(function(a){var e=$(this);setTimeout(function(){e.closest(".map__group.active").length&&e.addClass("visible")},s),s+=t})}(t))}""!=d&&(o(d),UIkit.Utils.scrollToElement(UIkit.$($("#main-scheme"),{duration:500}))),$(".search__result li").click(function(){var a=$(this).attr("data-id"),e=$('.map__marker[data-id="'+a+'"]').closest(".map__group");n($(".map__group").index(e)),$(".map__marker").removeClass("fade"),e.find('.map__marker[data-id!="'+a+'"]').addClass("fade"),UIkit.modal("#search").hide()}),$(".search__result p:last-child").click(function(){l()}),$(".search__cell li").click(function(){a=$(this).attr("data-category"),s=$(this).attr("data-subcategory"),r=$(this).text(),c()}),$(".search input").on("input",function(){var a;""!=(a=$(this).val().toUpperCase())?(c(),$(".search__result li").each(function(){0!=$(this).text().toUpperCase().indexOf(a)&&$(this).addClass("hidden")})):l()}),$(".map__marker[data-id]").click(function(){var a=$(this).attr("data-id");$(".info").removeClass("active"),$(".info[data-id='"+a+"']").addClass("active");var e=$(".info[data-id='"+a+"'] .info__img").attr("data-bg");$(".info[data-id='"+a+"'] .info__img").css("background-image",e),UIkit.Utils.scrollToElement(UIkit.$($(".info[data-id='"+a+"']"),{duration:500}))}),$(".scheme-start__cell .about-item__link").click(function(){o($(this).attr("data-filter"))}),$(".map__catalog li:not(:first-child)").click(function(){var a=$(this).attr("data-id"),e=$('.map__marker[data-id="'+a+'"]').closest(".map__group");n($(".map__group").index(e)),$(".map__marker").removeClass("fade"),e.find('.map__marker[data-id!="'+a+'"]').addClass("fade")}),$(".map__catalog li:first-child").click(function(){o($(this).attr("data-category"))}),e.click(function(){n(e.index($(this)))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInRhYnMiLCJncm91cHMiLCJhY3RpdmUiLCJDaGFuZ2VBY3RpdmUiLCJjYXRlZ29yeSIsInN1YmNhdGVnb3J5IiwidGl0bGUiLCJoYXNoIiwibG9jYXRpb24iLCJhdHRyIiwiUmVzdWx0IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInRleHQiLCJCYWNrIiwidmFsIiwiU2V0RmlsdGVyIiwiZmlsdGVyIiwiZ3JvdXAiLCJlcSIsImZpbmQiLCJpbmRleCIsIm1hcmtlcnMiLCJkZWxheSIsImxlbmd0aCIsImkiLCJlYWNoIiwic2VsZiIsInRoaXMiLCJzZXRUaW1lb3V0IiwiY2xvc2VzdCIsIlNlbGVjdEZsb29yIiwiVUlraXQiLCJVdGlscyIsInNjcm9sbFRvRWxlbWVudCIsImR1cmF0aW9uIiwiY2xpY2siLCJpZCIsIm1vZGFsIiwiaGlkZSIsIm9uIiwidG9VcHBlckNhc2UiLCJpbmRleE9mIiwiZGF0YV9iZyIsImNzcyJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FDaEIsSUFBSUMsRUFBT0gsRUFBRSxxQkFDVEksRUFBU0osRUFBRSxlQUNYSyxHQUFVLEVBQ2RDLEVBQWEsR0FDYixJQUFJQyxFQUFXLEdBQ1hDLEVBQWMsR0FDZEMsRUFBTSxHQUVOQyxFQUFPVixFQUFFVyxVQUFVQyxLQUFLLFFBTTVCLFNBQVNDLElBQ1BiLEVBQUUsaUJBQWlCYyxZQUFZLFVBQy9CZCxFQUFFLG1CQUFtQmUsU0FBUyxVQUM5QmYsRUFBRSxpQ0FBaUNnQixLQUFLUCxHQUN4Q1QsRUFBRSxzQkFBc0JjLFlBQVksVUFDekIsSUFBUEwsR0FDRlQsRUFBRSxzQkFBc0JlLFNBQVMsVUFFckIsSUFBVlIsR0FDRlAsRUFBRSxxQ0FBcUNPLEVBQVMsTUFBTU8sWUFBWSxVQUNuRCxJQUFiTixHQUNGUixFQUFFLHdDQUF3Q1EsRUFBWSxNQUFNTSxZQUFZLFVBRTVFLFNBQVNHLElBR1BS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LEVBQUUsa0JBQWtCd0MsRUFBRyxpQkFBaUJPLElBQUksbUJBQW1CRCxHQUMvRFgsTUFBTUMsTUFBTUMsZ0JBQWdCRixNQUFNbkMsRUFBRUEsRUFBRSxrQkFBa0J3QyxFQUFHLE1BQU8sQ0FBRUYsU0FBVSxTQUVoRnRDLEVBQUUseUNBQXlDdUMsTUFBTSxXQUUvQ3BCLEVBRGFuQixFQUFFK0IsTUFBTW5CLEtBQUssa0JBRzVCWixFQUFFLHNDQUFzQ3VDLE1BQU0sV0FDNUMsSUFBSUMsRUFBS3hDLEVBQUUrQixNQUFNbkIsS0FBSyxXQUNsQlMsRUFBUXJCLEVBQUUseUJBQXlCd0MsRUFBRyxNQUFNUCxRQUFRLGVBRXhEM0IsRUFEWU4sRUFBRSxlQUFld0IsTUFBTUgsSUFFbkNyQixFQUFFLGdCQUFnQmMsWUFBWSxRQUM5Qk8sRUFBTUUsS0FBSywwQkFBMEJpQixFQUFHLE1BQU16QixTQUFTLFVBRXpEZixFQUFFLGdDQUFnQ3VDLE1BQU0sV0FFdENwQixFQURVbkIsRUFBRStCLE1BQU1uQixLQUFLLG9CQStDekJULEVBQUtvQyxNQUFNLFdBQ1RqQyxFQUFhSCxFQUFLcUIsTUFBTXhCLEVBQUUrQiIsImZpbGUiOiJtYXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gIHZhciB0YWJzID0gJCgnLm1hcF9fc3dpdGNoZXIgbGknKTtcclxuICB2YXIgZ3JvdXBzID0gJCgnLm1hcF9fZ3JvdXAnKTtcclxuICB2YXIgYWN0aXZlID0gLTE7XHJcbiAgQ2hhbmdlQWN0aXZlKDApO1xyXG4gIHZhciBjYXRlZ29yeSA9IFwiXCI7XHJcbiAgdmFyIHN1YmNhdGVnb3J5ID0gXCJcIjtcclxuICB2YXIgdGl0bGU9XCJcIjtcclxuXHJcbiAgdmFyIGhhc2ggPSAkKGxvY2F0aW9uKS5hdHRyKCdoYXNoJyk7XHJcbiAgaWYgKGhhc2ghPVwiXCIpIHtcclxuICAgIFNldEZpbHRlcihoYXNoKTtcclxuICAgIFVJa2l0LlV0aWxzLnNjcm9sbFRvRWxlbWVudChVSWtpdC4kKCQoXCIjbWFpbi1zY2hlbWVcIiksIHsgZHVyYXRpb246IDUwMCB9KSk7XHJcbiAgfVxyXG4gIC8v0YDQsNCx0L7RgtCwINGBINC40L3Qv9GD0YLQvtC8XHJcbiAgZnVuY3Rpb24gUmVzdWx0KCkge1xyXG4gICAgJCgnLnNlYXJjaF9fZ3JpZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQoJy5zZWFyY2hfX3Jlc3VsdCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICQoJy5zZWFyY2hfX3Jlc3VsdCBwOmZpcnN0LWNoaWxkJykudGV4dCh0aXRsZSk7XHJcbiAgICAkKCcuc2VhcmNoX19yZXN1bHQgbGknKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICBpZiAodGl0bGUhPVwiXCIpIHtcclxuICAgICAgJCgnLnNlYXJjaF9fcmVzdWx0IGxpJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNhdGVnb3J5IT1cIlwiKVxyXG4gICAgICAkKCcuc2VhcmNoX19yZXN1bHQgbGlbZGF0YS1jYXRlZ29yeT1cIicrY2F0ZWdvcnkrJ1wiXScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgIGlmIChzdWJjYXRlZ29yeSE9XCJcIilcclxuICAgICAgJCgnLnNlYXJjaF9fcmVzdWx0IGxpW2RhdGEtc3ViY2F0ZWdvcnk9XCInK3N1YmNhdGVnb3J5KydcIl0nKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIEJhY2soKSB7XHJcbiAgICBjYXRlZ29yeT1cIlwiO1xyXG4gICAgc3ViY2F0ZWdvcnk9XCJcIjtcclxuICAgIHRpdGxlPVwiXCI7XHJcbiAgICAkKCcuc2VhcmNoIGlucHV0JykudmFsKFwiXCIpO1xyXG4gICAgJCgnLnNlYXJjaF9fcmVzdWx0JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCgnLnNlYXJjaF9fZ3JpZCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gSW5wdXQodmFsKSB7XHJcbiAgICBpZiAodmFsIT1cIlwiKSB7XHJcbiAgICAgIFJlc3VsdCgpO1xyXG4gICAgICAkKCcuc2VhcmNoX19yZXN1bHQgbGknKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHN0ciA9ICQodGhpcykudGV4dCgpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKHN0ci5pbmRleE9mKHZhbCkhPTApICQodGhpcykuYWRkQ2xhc3MoJ2hpZGRlbicpXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBCYWNrKCk7XHJcbiAgfVxyXG4gICQoJy5zZWFyY2hfX3Jlc3VsdCBsaScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgIHZhciBncm91cCA9ICQoJy5tYXBfX21hcmtlcltkYXRhLWlkPVwiJytpZCsnXCJdJykuY2xvc2VzdCgnLm1hcF9fZ3JvdXAnKTtcclxuICAgIHZhciBpbmRleCA9ICQoJy5tYXBfX2dyb3VwJykuaW5kZXgoZ3JvdXApO1xyXG4gICAgQ2hhbmdlQWN0aXZlKGluZGV4KTtcclxuICAgICQoJy5tYXBfX21hcmtlcicpLnJlbW92ZUNsYXNzKCdmYWRlJyk7XHJcbiAgICBncm91cC5maW5kKCcubWFwX19tYXJrZXJbZGF0YS1pZCE9XCInK2lkKydcIl0nKS5hZGRDbGFzcygnZmFkZScpO1xyXG4gICAgVUlraXQubW9kYWwoXCIjc2VhcmNoXCIpLmhpZGUoKTtcclxuICB9KTtcclxuICAkKCcuc2VhcmNoX19yZXN1bHQgcDpsYXN0LWNoaWxkJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIEJhY2soKTtcclxuICB9KTtcclxuICAkKCcuc2VhcmNoX19jZWxsIGxpJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIGNhdGVnb3J5ID0gJCh0aGlzKS5hdHRyKCdkYXRhLWNhdGVnb3J5Jyk7XHJcbiAgICBzdWJjYXRlZ29yeSA9ICQodGhpcykuYXR0cignZGF0YS1zdWJjYXRlZ29yeScpO1xyXG4gICAgdGl0bGUgPSAkKHRoaXMpLnRleHQoKTtcclxuICAgIFJlc3VsdCgpO1xyXG4gIH0pO1xyXG4gICQoJy5zZWFyY2ggaW5wdXQnKS5vbignaW5wdXQnLGZ1bmN0aW9uKCkge1xyXG4gICAgSW5wdXQoJCh0aGlzKS52YWwoKS50b1VwcGVyQ2FzZSgpKTtcclxuICB9KTtcclxuICAkKCcubWFwX19tYXJrZXJbZGF0YS1pZF0nKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdkYXRhLWlkJyk7XHJcbiAgICAkKFwiLmluZm9cIikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJChcIi5pbmZvW2RhdGEtaWQ9J1wiK2lkK1wiJ11cIikuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgdmFyIGRhdGFfYmcgPSAkKFwiLmluZm9bZGF0YS1pZD0nXCIraWQrXCInXSAuaW5mb19faW1nXCIpLmF0dHIoXCJkYXRhLWJnXCIpO1xyXG4gICAgJChcIi5pbmZvW2RhdGEtaWQ9J1wiK2lkK1wiJ10gLmluZm9fX2ltZ1wiKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLGRhdGFfYmcpO1xyXG4gICAgVUlraXQuVXRpbHMuc2Nyb2xsVG9FbGVtZW50KFVJa2l0LiQoJChcIi5pbmZvW2RhdGEtaWQ9J1wiK2lkK1wiJ11cIiksIHsgZHVyYXRpb246IDUwMCB9KSk7XHJcbiAgfSk7XHJcbiAgJCgnLnNjaGVtZS1zdGFydF9fY2VsbCAuYWJvdXQtaXRlbV9fbGluaycpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgZmlsdGVyID0gJCh0aGlzKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xyXG4gICAgU2V0RmlsdGVyKGZpbHRlcik7XHJcbiAgfSk7XHJcbiAgJCgnLm1hcF9fY2F0YWxvZyBsaTpub3QoOmZpcnN0LWNoaWxkKScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgIHZhciBncm91cCA9ICQoJy5tYXBfX21hcmtlcltkYXRhLWlkPVwiJytpZCsnXCJdJykuY2xvc2VzdCgnLm1hcF9fZ3JvdXAnKTtcclxuICAgIHZhciBpbmRleCA9ICQoJy5tYXBfX2dyb3VwJykuaW5kZXgoZ3JvdXApO1xyXG4gICAgQ2hhbmdlQWN0aXZlKGluZGV4KTtcclxuICAgICQoJy5tYXBfX21hcmtlcicpLnJlbW92ZUNsYXNzKCdmYWRlJyk7XHJcbiAgICBncm91cC5maW5kKCcubWFwX19tYXJrZXJbZGF0YS1pZCE9XCInK2lkKydcIl0nKS5hZGRDbGFzcygnZmFkZScpO1xyXG4gIH0pO1xyXG4gICQoJy5tYXBfX2NhdGFsb2cgbGk6Zmlyc3QtY2hpbGQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgdmFyIGNhdCA9ICQodGhpcykuYXR0cignZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgU2V0RmlsdGVyKGNhdCk7XHJcbiAgfSk7XHJcbiAgZnVuY3Rpb24gU2V0RmlsdGVyKGZpbHRlcikge1xyXG4gICAgaWYgKGZpbHRlcj09XCJcIikgcmV0dXJuO1xyXG4gICAgdmFyIGdyb3VwID0gZ3JvdXBzLmVxKGFjdGl2ZSk7XHJcbiAgICAkKCcubWFwX19tYXJrZXInKS5yZW1vdmVDbGFzcygnZmFkZScpO1xyXG4gICAgZ3JvdXAuZmluZCgnLm1hcF9fbWFya2VyW2RhdGEtY2F0ZWdvcnkhPVwiJytmaWx0ZXIrJ1wiXScpLmFkZENsYXNzKCdmYWRlJyk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIENoYW5nZUFjdGl2ZShpbmRleCkge1xyXG4gICAgaWYgKGluZGV4PDAgfHwgaW5kZXg+MiB8fCBpbmRleD09YWN0aXZlKSByZXR1cm47XHJcbiAgICBhY3RpdmUgPSBpbmRleDtcclxuICAgIHRhYnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgdGFicy5lcShhY3RpdmUpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIFNlbGVjdEZsb29yKGFjdGl2ZSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIFNlbGVjdEZsb29yKGluZGV4KSB7XHJcbiAgICBncm91cHMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLnJlbW92ZUNsYXNzKCdoaWRlJykucmVtb3ZlQ2xhc3MoJ3NlY29uZCcpLnJlbW92ZUNsYXNzKCd0aGlyZCcpO1xyXG4gICAgZ3JvdXBzLmVxKGluZGV4KS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICBzd2l0Y2ggKGluZGV4KSB7XHJcbiAgICAgIGNhc2UgMDpcclxuICAgICAgICBncm91cHMuZXEoMSkuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICBncm91cHMuZXEoMikuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIGdyb3Vwcy5lcSgwKS5hZGRDbGFzcygnc2Vjb25kJyk7XHJcbiAgICAgICAgZ3JvdXBzLmVxKDIpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICBncm91cHMuZXEoMCkuYWRkQ2xhc3MoJ3RoaXJkJyk7XHJcbiAgICAgICAgZ3JvdXBzLmVxKDEpLmFkZENsYXNzKCdzZWNvbmQnKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgICQoJy5tYXBfX21hcmtlcicpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJykucmVtb3ZlQ2xhc3MoJ2ZhZGUnKTtcclxuICAgIHZhciBtYXJrZXJzID0gZ3JvdXBzLmVxKGluZGV4KS5maW5kKFwiLm1hcF9fbWFya2VyXCIpO1xyXG4gICAgdmFyIGRlbGF5ID0gNTAwLjAvbWFya2Vycy5sZW5ndGg7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBtYXJrZXJzLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICB2YXIgc2VsZiA9ICQodGhpcyk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAoc2VsZi5jbG9zZXN0KCcubWFwX19ncm91cC5hY3RpdmUnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgc2VsZi5hZGRDbGFzcygndmlzaWJsZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIGkpO1xyXG4gICAgICAgIGkrPWRlbGF5O1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHRhYnMuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIENoYW5nZUFjdGl2ZSh0YWJzLmluZGV4KCQodGhpcykpKTtcclxuICB9KTtcclxufSk7Il19
