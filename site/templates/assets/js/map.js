$(document).ready(function(){var e=$(".map__switcher li"),i=$(".map__group"),t=-1;n(0);var a="",s="",r="",d=$(location).attr("hash");function c(){$(".search__grid").removeClass("active"),$(".search__result").addClass("active"),$(".search__result p:first-child").text(r),$(".search__result li").removeClass("hidden"),""!=r&&$(".search__result li").addClass("hidden"),""!=a&&$('.search__result li[data-category="'+a+'"]').removeClass("hidden"),""!=s&&$('.search__result li[data-subcategory="'+s+'"]').removeClass("hidden")}function l(){r=s=a="",$(".search input").val(""),$(".search__result").removeClass("active"),$(".search__grid").addClass("active")}function o(a){if(""!=a){var e=i.eq(t);$(".map__marker").removeClass("fade"),e.find('.map__marker[data-category!="'+a+'"]').addClass("fade")}}function n(a){a<0||2<a||a==t||(t=a,e.removeClass("active"),e.eq(t).addClass("active"),function(a){switch(i.removeClass("active").removeClass("hide").removeClass("second").removeClass("third"),i.eq(a).addClass("active"),a){case 0:i.eq(1).addClass("hide"),i.eq(2).addClass("hide");break;case 1:i.eq(0).addClass("second"),i.eq(2).addClass("hide");break;case 2:i.eq(0).addClass("third"),i.eq(1).addClass("second")}$(".map__marker").removeClass("visible").removeClass("fade");var e=i.eq(a).find(".map__marker"),t=500/e.length,s=0;e.each(function(a){var e=$(this);setTimeout(function(){e.addClass("visible")},s),s+=t})}(t))}""!=d&&(o(d),UIkit.Utils.scrollToElement(UIkit.$($("#main-scheme"),{duration:500}))),$(".search__result li").click(function(){var a=$(this).attr("data-id"),e=$('.map__marker[data-id="'+a+'"]').closest(".map__group");n($(".map__group").index(e)),$(".map__marker").removeClass("fade"),e.find('.map__marker[data-id!="'+a+'"]').addClass("fade"),UIkit.modal("#search").hide()}),$(".search__result p:last-child").click(function(){l()}),$(".search__cell li").click(function(){a=$(this).attr("data-category"),s=$(this).attr("data-subcategory"),r=$(this).text(),c()}),$(".search input").on("input",function(){var a;""!=(a=$(this).val().toUpperCase())?(c(),$(".search__result li").each(function(){0!=$(this).text().toUpperCase().indexOf(a)&&$(this).addClass("hidden")})):l()}),$(".map__marker[data-id]").click(function(){var a=$(this).attr("data-id");$(".info").removeClass("active"),$(".info[data-id='"+a+"']").addClass("active");var e=$(".info[data-id='"+a+"'] .info__img").attr("data-bg");$(".info[data-id='"+a+"'] .info__img").css("background-image",e),UIkit.Utils.scrollToElement(UIkit.$($(".info[data-id='"+a+"']"),{duration:500}))}),$(".scheme-start__cell .about-item__link").click(function(){o($(this).attr("data-filter"))}),$(".map__catalog li:not(:first-child)").click(function(){var a=$(this).attr("data-id"),e=$('.map__marker[data-id="'+a+'"]').closest(".map__group");n($(".map__group").index(e)),$(".map__marker").removeClass("fade"),e.find('.map__marker[data-id!="'+a+'"]').addClass("fade")}),$(".map__catalog li:first-child").click(function(){o($(this).attr("data-category"))}),e.click(function(){n(e.index($(this)))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInRhYnMiLCJncm91cHMiLCJhY3RpdmUiLCJDaGFuZ2VBY3RpdmUiLCJjYXRlZ29yeSIsInN1YmNhdGVnb3J5IiwidGl0bGUiLCJoYXNoIiwibG9jYXRpb24iLCJhdHRyIiwiUmVzdWx0IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInRleHQiLCJCYWNrIiwidmFsIiwiU2V0RmlsdGVyIiwiZmlsdGVyIiwiZ3JvdXAiLCJlcSIsImZpbmQiLCJpbmRleCIsIm1hcmtlcnMiLCJkZWxheSIsImxlbmd0aCIsImkiLCJlYWNoIiwic2VsZiIsInRoaXMiLCJzZXRUaW1lb3V0IiwiU2VsZWN0Rmxvb3IiLCJVSWtpdCIsIlV0aWxzIiwic2Nyb2xsVG9FbGVtZW50IiwiZHVyYXRpb24iLCJjbGljayIsImlkIiwiY2xvc2VzdCIsIm1vZGFsIiwiaGlkZSIsIm9uIiwidG9VcHBlckNhc2UiLCJpbmRleE9mIiwiZGF0YV9iZyIsImNzcyJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FDaEIsSUFBSUMsRUFBT0gsRUFBRSxxQkFDVEksRUFBU0osRUFBRSxlQUNYSyxHQUFVLEVBQ2RDLEVBQWEsR0FDYixJQUFJQyxFQUFXLEdBQ1hDLEVBQWMsR0FDZEMsRUFBTSxHQUVOQyxFQUFPVixFQUFFVyxVQUFVQyxLQUFLLFFBTTVCLFNBQVNDLElBQ1BiLEVBQUUsaUJBQWlCYyxZQUFZLFVBQy9CZCxFQUFFLG1CQUFtQmUsU0FBUyxVQUM5QmYsRUFBRSxpQ0FBaUNnQixLQUFLUCxHQUN4Q1QsRUFBRSxzQkFBc0JjLFlBQVksVUFDekIsSUFBUEwsR0FDRlQsRUFBRSxzQkFBc0JlLFNBQVMsVUFFckIsSUFBVlIsR0FDRlAsRUFBRSxxQ0FBcUNPLEVBQVMsTUFBTU8sWUFBWSxVQUNuRCxJQUFiTixHQUNGUixFQUFFLHdDQUF3Q1EsRUFBWSxNQUFNTSxZQUFZLFVBRTVFLFNBQVNHLElBR1BS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QlEsSUFBSSxtQkFBbUJELEdBQy9EWixNQUFNQyxNQUFNQyxnQkFBZ0JGLE1BQU1sQyxFQUFFQSxFQUFFLGtCQUFrQnVDLEVBQUcsTUFBTyxDQUFFRixTQUFVLFNBRWhGckMsRUFBRSx5Q0FBeUNzQyxNQUFNLFdBRS9DbkIsRUFEYW5CLEVBQUUrQixNQUFNbkIsS0FBSyxrQkFHNUJaLEVBQUUsc0NBQXNDc0MsTUFBTSxXQUM1QyxJQUFJQyxFQUFLdkMsRUFBRStCLE1BQU1uQixLQUFLLFdBQ2xCUyxFQUFRckIsRUFBRSx5QkFBeUJ1QyxFQUFHLE1BQU1DLFFBQVEsZUFFeERsQyxFQURZTixFQUFFLGVBQWV3QixNQUFNSCxJQUVuQ3JCLEVBQUUsZ0JBQWdCYyxZQUFZLFFBQzlCTyxFQUFNRSxLQUFLLDBCQUEwQmdCLEVBQUcsTUFBTXhCLFNBQVMsVUFFekRmLEVBQUUsZ0NBQWdDc0MsTUFBTSxXQUV0Q25CLEVBRFVuQixFQUFFK0IsTUFBTW5CLEtBQUssb0JBNkN6QlQsRUFBS21DLE1BQU0sV0FDVGhDLEVBQWFILEVBQUtxQixNQUFNeEIsRUFBRStCIiwiZmlsZSI6Im1hcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgdmFyIHRhYnMgPSAkKCcubWFwX19zd2l0Y2hlciBsaScpO1xyXG4gIHZhciBncm91cHMgPSAkKCcubWFwX19ncm91cCcpO1xyXG4gIHZhciBhY3RpdmUgPSAtMTtcclxuICBDaGFuZ2VBY3RpdmUoMCk7XHJcbiAgdmFyIGNhdGVnb3J5ID0gXCJcIjtcclxuICB2YXIgc3ViY2F0ZWdvcnkgPSBcIlwiO1xyXG4gIHZhciB0aXRsZT1cIlwiO1xyXG5cclxuICB2YXIgaGFzaCA9ICQobG9jYXRpb24pLmF0dHIoJ2hhc2gnKTtcclxuICBpZiAoaGFzaCE9XCJcIikge1xyXG4gICAgU2V0RmlsdGVyKGhhc2gpO1xyXG4gICAgVUlraXQuVXRpbHMuc2Nyb2xsVG9FbGVtZW50KFVJa2l0LiQoJChcIiNtYWluLXNjaGVtZVwiKSwgeyBkdXJhdGlvbjogNTAwIH0pKTtcclxuICB9XHJcbiAgLy/RgNCw0LHQvtGC0LAg0YEg0LjQvdC/0YPRgtC+0LxcclxuICBmdW5jdGlvbiBSZXN1bHQoKSB7XHJcbiAgICAkKCcuc2VhcmNoX19ncmlkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCgnLnNlYXJjaF9fcmVzdWx0JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCgnLnNlYXJjaF9fcmVzdWx0IHA6Zmlyc3QtY2hpbGQnKS50ZXh0KHRpdGxlKTtcclxuICAgICQoJy5zZWFyY2hfX3Jlc3VsdCBsaScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuICAgIGlmICh0aXRsZSE9XCJcIikge1xyXG4gICAgICAkKCcuc2VhcmNoX19yZXN1bHQgbGknKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoY2F0ZWdvcnkhPVwiXCIpXHJcbiAgICAgICQoJy5zZWFyY2hfX3Jlc3VsdCBsaVtkYXRhLWNhdGVnb3J5PVwiJytjYXRlZ29yeSsnXCJdJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgaWYgKHN1YmNhdGVnb3J5IT1cIlwiKVxyXG4gICAgICAkKCcuc2VhcmNoX19yZXN1bHQgbGlbZGF0YS1zdWJjYXRlZ29yeT1cIicrc3ViY2F0ZWdvcnkrJ1wiXScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gQmFjaygpIHtcclxuICAgIGNhdGVnb3J5PVwiXCI7XHJcbiAgICBzdWJjYXRlZ29yeT1cIlwiO1xyXG4gICAgdGl0bGU9XCJcIjtcclxuICAgICQoJy5zZWFyY2ggaW5wdXQnKS52YWwoXCJcIik7XHJcbiAgICAkKCcuc2VhcmNoX19yZXN1bHQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKCcuc2VhcmNoX19ncmlkJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBJbnB1dCh2YWwpIHtcclxuICAgIGlmICh2YWwhPVwiXCIpIHtcclxuICAgICAgUmVzdWx0KCk7XHJcbiAgICAgICQoJy5zZWFyY2hfX3Jlc3VsdCBsaScpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgc3RyID0gJCh0aGlzKS50ZXh0KCkudG9VcHBlckNhc2UoKTtcclxuICAgICAgICBpZiAoc3RyLmluZGV4T2YodmFsKSE9MCkgJCh0aGlzKS5hZGRDbGFzcygnaGlkZGVuJylcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIEJhY2soKTtcclxuICB9XHJcbiAgJCgnLnNlYXJjaF9fcmVzdWx0IGxpJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgdmFyIGdyb3VwID0gJCgnLm1hcF9fbWFya2VyW2RhdGEtaWQ9XCInK2lkKydcIl0nKS5jbG9zZXN0KCcubWFwX19ncm91cCcpO1xyXG4gICAgdmFyIGluZGV4ID0gJCgnLm1hcF9fZ3JvdXAnKS5pbmRleChncm91cCk7XHJcbiAgICBDaGFuZ2VBY3RpdmUoaW5kZXgpO1xyXG4gICAgJCgnLm1hcF9fbWFya2VyJykucmVtb3ZlQ2xhc3MoJ2ZhZGUnKTtcclxuICAgIGdyb3VwLmZpbmQoJy5tYXBfX21hcmtlcltkYXRhLWlkIT1cIicraWQrJ1wiXScpLmFkZENsYXNzKCdmYWRlJyk7XHJcbiAgICBVSWtpdC5tb2RhbChcIiNzZWFyY2hcIikuaGlkZSgpO1xyXG4gIH0pO1xyXG4gICQoJy5zZWFyY2hfX3Jlc3VsdCBwOmxhc3QtY2hpbGQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgQmFjaygpO1xyXG4gIH0pO1xyXG4gICQoJy5zZWFyY2hfX2NlbGwgbGknKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgY2F0ZWdvcnkgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgIHN1YmNhdGVnb3J5ID0gJCh0aGlzKS5hdHRyKCdkYXRhLXN1YmNhdGVnb3J5Jyk7XHJcbiAgICB0aXRsZSA9ICQodGhpcykudGV4dCgpO1xyXG4gICAgUmVzdWx0KCk7XHJcbiAgfSk7XHJcbiAgJCgnLnNlYXJjaCBpbnB1dCcpLm9uKCdpbnB1dCcsZnVuY3Rpb24oKSB7XHJcbiAgICBJbnB1dCgkKHRoaXMpLnZhbCgpLnRvVXBwZXJDYXNlKCkpO1xyXG4gIH0pO1xyXG4gICQoJy5tYXBfX21hcmtlcltkYXRhLWlkXScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICQoXCIuaW5mb1wiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKFwiLmluZm9bZGF0YS1pZD0nXCIraWQrXCInXVwiKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB2YXIgZGF0YV9iZyA9ICQoXCIuaW5mb1tkYXRhLWlkPSdcIitpZCtcIiddIC5pbmZvX19pbWdcIikuYXR0cihcImRhdGEtYmdcIik7XHJcbiAgICAkKFwiLmluZm9bZGF0YS1pZD0nXCIraWQrXCInXSAuaW5mb19faW1nXCIpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsZGF0YV9iZyk7XHJcbiAgICBVSWtpdC5VdGlscy5zY3JvbGxUb0VsZW1lbnQoVUlraXQuJCgkKFwiLmluZm9bZGF0YS1pZD0nXCIraWQrXCInXVwiKSwgeyBkdXJhdGlvbjogNTAwIH0pKTtcclxuICB9KTtcclxuICAkKCcuc2NoZW1lLXN0YXJ0X19jZWxsIC5hYm91dC1pdGVtX19saW5rJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIHZhciBmaWx0ZXIgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtZmlsdGVyJyk7XHJcbiAgICBTZXRGaWx0ZXIoZmlsdGVyKTtcclxuICB9KTtcclxuICAkKCcubWFwX19jYXRhbG9nIGxpOm5vdCg6Zmlyc3QtY2hpbGQpJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgdmFyIGdyb3VwID0gJCgnLm1hcF9fbWFya2VyW2RhdGEtaWQ9XCInK2lkKydcIl0nKS5jbG9zZXN0KCcubWFwX19ncm91cCcpO1xyXG4gICAgdmFyIGluZGV4ID0gJCgnLm1hcF9fZ3JvdXAnKS5pbmRleChncm91cCk7XHJcbiAgICBDaGFuZ2VBY3RpdmUoaW5kZXgpO1xyXG4gICAgJCgnLm1hcF9fbWFya2VyJykucmVtb3ZlQ2xhc3MoJ2ZhZGUnKTtcclxuICAgIGdyb3VwLmZpbmQoJy5tYXBfX21hcmtlcltkYXRhLWlkIT1cIicraWQrJ1wiXScpLmFkZENsYXNzKCdmYWRlJyk7XHJcbiAgfSk7XHJcbiAgJCgnLm1hcF9fY2F0YWxvZyBsaTpmaXJzdC1jaGlsZCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgY2F0ID0gJCh0aGlzKS5hdHRyKCdkYXRhLWNhdGVnb3J5Jyk7XHJcbiAgICBTZXRGaWx0ZXIoY2F0KTtcclxuICB9KTtcclxuICBmdW5jdGlvbiBTZXRGaWx0ZXIoZmlsdGVyKSB7XHJcbiAgICBpZiAoZmlsdGVyPT1cIlwiKSByZXR1cm47XHJcbiAgICB2YXIgZ3JvdXAgPSBncm91cHMuZXEoYWN0aXZlKTtcclxuICAgICQoJy5tYXBfX21hcmtlcicpLnJlbW92ZUNsYXNzKCdmYWRlJyk7XHJcbiAgICBncm91cC5maW5kKCcubWFwX19tYXJrZXJbZGF0YS1jYXRlZ29yeSE9XCInK2ZpbHRlcisnXCJdJykuYWRkQ2xhc3MoJ2ZhZGUnKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gQ2hhbmdlQWN0aXZlKGluZGV4KSB7XHJcbiAgICBpZiAoaW5kZXg8MCB8fCBpbmRleD4yIHx8IGluZGV4PT1hY3RpdmUpIHJldHVybjtcclxuICAgIGFjdGl2ZSA9IGluZGV4O1xyXG4gICAgdGFicy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB0YWJzLmVxKGFjdGl2ZSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgU2VsZWN0Rmxvb3IoYWN0aXZlKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gU2VsZWN0Rmxvb3IoaW5kZXgpIHtcclxuICAgIGdyb3Vwcy5yZW1vdmVDbGFzcygnYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKS5yZW1vdmVDbGFzcygnc2Vjb25kJykucmVtb3ZlQ2xhc3MoJ3RoaXJkJyk7XHJcbiAgICBncm91cHMuZXEoaW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIHN3aXRjaCAoaW5kZXgpIHtcclxuICAgICAgY2FzZSAwOlxyXG4gICAgICAgIGdyb3Vwcy5lcSgxKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgIGdyb3Vwcy5lcSgyKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgZ3JvdXBzLmVxKDApLmFkZENsYXNzKCdzZWNvbmQnKTtcclxuICAgICAgICBncm91cHMuZXEoMikuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIGdyb3Vwcy5lcSgwKS5hZGRDbGFzcygndGhpcmQnKTtcclxuICAgICAgICBncm91cHMuZXEoMSkuYWRkQ2xhc3MoJ3NlY29uZCcpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgJCgnLm1hcF9fbWFya2VyJykucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKS5yZW1vdmVDbGFzcygnZmFkZScpO1xyXG4gICAgdmFyIG1hcmtlcnMgPSBncm91cHMuZXEoaW5kZXgpLmZpbmQoXCIubWFwX19tYXJrZXJcIik7XHJcbiAgICB2YXIgZGVsYXkgPSA1MDAuMC9tYXJrZXJzLmxlbmd0aDtcclxuICAgIHZhciBpID0gMDtcclxuICAgIG1hcmtlcnMuZWFjaChmdW5jdGlvbihpbmRleCl7XHJcbiAgICAgIHZhciBzZWxmID0gJCh0aGlzKTtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcclxuICAgICAgfSwgaSk7XHJcbiAgICAgIGkrPWRlbGF5O1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHRhYnMuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIENoYW5nZUFjdGl2ZSh0YWJzLmluZGV4KCQodGhpcykpKTtcclxuICB9KTtcclxufSk7Il19
